var e=require("vscode"),d=require("path");function f(t){let o=e.commands.registerCommand("right-click-run-file.run",n=>{a(n,!1)}),s=e.commands.registerCommand("right-click-run-file.runAdmin",n=>{a(n,!0)});t.subscriptions.push(o,s)}function a(t,o){if(!t)if(e.window.activeTextEditor)t=e.window.activeTextEditor.document.uri;else{e.window.showErrorMessage("No file selected.");return}let s=t.fsPath,n=d.basename(s),l=e.workspace.getWorkspaceFolder(t),u=process.platform==="win32",c;if(u){let r=s.replace(/'/g,"''");c=o?`Start-Process -FilePath '${r}' -Verb RunAs`:`& '${r}'`}else c=o?`sudo "${s}"`:`"${s}"`;let i=new e.Task({type:"shell"},l||e.TaskScope.Workspace,o?`Run ${n} (Admin)`:`Run ${n}`,"right-click-run-file",new e.ShellExecution(c));i.presentationOptions={reveal:e.TaskRevealKind.Always,panel:e.TaskPanelKind.Dedicated,focus:!0,clear:!0},e.tasks.executeTask(i)}function m(){}module.exports={activate:f,deactivate:m};
//# sourceMappingURL=extension.js.map
