{
  "version": 3,
  "sources": ["../src/extension.js"],
  "sourcesContent": ["const vscode = require('vscode');\r\nconst path = require('path');\r\n\r\n/**\r\n * Activates the extension.\r\n * @param {vscode.ExtensionContext} context - The extension context.\r\n */\r\nfunction activate(context) {\r\n  const runNormal = vscode.commands.registerCommand('right-click-run-file.run', (uri) => {\r\n    executeFile(uri, false);\r\n  });\r\n\r\n  const runAdmin = vscode.commands.registerCommand('right-click-run-file.runAdmin', (uri) => {\r\n    executeFile(uri, true);\r\n  });\r\n\r\n  context.subscriptions.push(runNormal, runAdmin);\r\n}\r\n\r\n/**\r\n * Executes the selected file in the integrated terminal.\r\n * @param {vscode.Uri} [uri] - The URI of the selected file.\r\n * @param {boolean} asAdmin - Whether to run the file with administrator privileges.\r\n */\r\nfunction executeFile(uri, asAdmin) {\r\n  if (!uri) {\r\n    if (vscode.window.activeTextEditor) {\r\n      uri = vscode.window.activeTextEditor.document.uri;\r\n    } else {\r\n      vscode.window.showErrorMessage('No file selected.');\r\n      return;\r\n    }\r\n  }\r\n\r\n  const filePath = uri.fsPath;\r\n  const fileName = path.basename(filePath);\r\n  const folder = vscode.workspace.getWorkspaceFolder(uri);\r\n\r\n  const isWindows = process.platform === 'win32';\r\n  let command;\r\n\r\n  if (isWindows) {\r\n    // Escape single quotes for PowerShell\r\n    const safePath = filePath.replace(/'/g, \"''\");\r\n    command = asAdmin\r\n      ? `Start-Process -FilePath '${safePath}' -Verb RunAs`\r\n      : `& '${safePath}'`;\r\n  } else {\r\n    command = asAdmin\r\n      ? `sudo \"${filePath}\"`\r\n      : `\"${filePath}\"`;\r\n  }\r\n\r\n  const task = new vscode.Task(\r\n    { type: 'shell' },\r\n    folder || vscode.TaskScope.Workspace,\r\n    asAdmin ? `Run ${fileName} (Admin)` : `Run ${fileName}`,\r\n    'right-click-run-file',\r\n    new vscode.ShellExecution(command)\r\n  );\r\n\r\n  task.presentationOptions = {\r\n    reveal: vscode.TaskRevealKind.Always,\r\n    panel: vscode.TaskPanelKind.Dedicated,\r\n    focus: true,\r\n    clear: true\r\n  };\r\n\r\n  vscode.tasks.executeTask(task);\r\n}\r\n\r\n/**\r\n * Deactivates the extension.\r\n */\r\nfunction deactivate() { }\r\n\r\nmodule.exports = {\r\n  activate,\r\n  deactivate\r\n};\r\n"],
  "mappings": "AAAA,IAAMA,EAAS,QAAQ,QAAQ,EACzBC,EAAO,QAAQ,MAAM,EAM3B,SAASC,EAASC,EAAS,CACzB,IAAMC,EAAYJ,EAAO,SAAS,gBAAgB,2BAA6BK,GAAQ,CACrFC,EAAYD,EAAK,EAAK,CACxB,CAAC,EAEKE,EAAWP,EAAO,SAAS,gBAAgB,gCAAkCK,GAAQ,CACzFC,EAAYD,EAAK,EAAI,CACvB,CAAC,EAEDF,EAAQ,cAAc,KAAKC,EAAWG,CAAQ,CAChD,CAOA,SAASD,EAAYD,EAAKG,EAAS,CACjC,GAAI,CAACH,EACH,GAAIL,EAAO,OAAO,iBAChBK,EAAML,EAAO,OAAO,iBAAiB,SAAS,QACzC,CACLA,EAAO,OAAO,iBAAiB,mBAAmB,EAClD,MACF,CAGF,IAAMS,EAAWJ,EAAI,OACfK,EAAWT,EAAK,SAASQ,CAAQ,EACjCE,EAASX,EAAO,UAAU,mBAAmBK,CAAG,EAEhDO,EAAY,QAAQ,WAAa,QACnCC,EAEJ,GAAID,EAAW,CAEb,IAAME,EAAWL,EAAS,QAAQ,KAAM,IAAI,EAC5CI,EAAUL,EACN,4BAA4BM,CAAQ,gBACpC,MAAMA,CAAQ,GACpB,MACED,EAAUL,EACN,SAASC,CAAQ,IACjB,IAAIA,CAAQ,IAGlB,IAAMM,EAAO,IAAIf,EAAO,KACtB,CAAE,KAAM,OAAQ,EAChBW,GAAUX,EAAO,UAAU,UAC3BQ,EAAU,OAAOE,CAAQ,WAAa,OAAOA,CAAQ,GACrD,uBACA,IAAIV,EAAO,eAAea,CAAO,CACnC,EAEAE,EAAK,oBAAsB,CACzB,OAAQf,EAAO,eAAe,OAC9B,MAAOA,EAAO,cAAc,UAC5B,MAAO,GACP,MAAO,EACT,EAEAA,EAAO,MAAM,YAAYe,CAAI,CAC/B,CAKA,SAASC,GAAa,CAAE,CAExB,OAAO,QAAU,CACf,SAAAd,EACA,WAAAc,CACF",
  "names": ["vscode", "path", "activate", "context", "runNormal", "uri", "executeFile", "runAdmin", "asAdmin", "filePath", "fileName", "folder", "isWindows", "command", "safePath", "task", "deactivate"]
}
